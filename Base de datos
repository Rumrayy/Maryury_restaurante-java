CREATE TABLE clientes (
    id_cliente NUMBER(10) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nombres VARCHAR2(50) NOT NULL,
    apellidos VARCHAR2(50) NOT NULL,
    roll VARCHAR(100) NOT NULL,
    Email VARCHAR2(100) UNIQUE NOT NULL,
    telefono VARCHAR2(50) UNIQUE NOT NULL,
    contrasena VARCHAR2(50) NOT NULL
);

CREATE TABLE menu (
    id_menu NUMBER(10) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nombre_plato VARCHAR2(100),
    descripcion VARCHAR2(250),
    precio NUMBER(10, 2)
);

CREATE TABLE reservacion (
    id_reservacion NUMBER(10) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    comentarios VARCHAR2(300),
    fecha_reservacion DATE,
    hora_reserva TIMESTAMP,
    id_mesa NUMBER(10),
    id_menu NUMBER(10),
    FOREIGN KEY (id_mesa) REFERENCES mesas(id_mesa),
    FOREIGN KEY (id_menu) REFERENCES menu(id_menu)
);

CREATE TABLE mesas (
    id_mesa NUMBER(10) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nombre_mesa VARCHAR2(50),
    capacidad NUMBER(10),
    id_cliente NUMBER(10),
    FOREIGN KEY (id_cliente) REFERENCES clientes(id_cliente)
);

CREATE TABLE pagos (
    id_pago NUMBER(10) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    monto NUMBER(10, 2),
    fecha_pago DATE,
    id_reservacion NUMBER(10),
    FOREIGN KEY (id_reservacion) REFERENCES reservacion(id_reservacion)
);

CREATE TABLE facturas (
    id_factura NUMBER(10) GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    id_pago NUMBER(10),
    FOREIGN KEY (id_pago) REFERENCES pagos(id_pago)
);
